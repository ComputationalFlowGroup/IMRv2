% file s_generate_resolution.m
% brief contains script to generate golden resolution data for IMR

% brief This script generates the golden resolution data for IMR
clc;
clear;
close;

format long;
    
    addpath('../../src/forward_solver/');
    
    % material parameter test cases
    tvector = linspace(0,350E-6,500);
    collapse = 1;
    vapor = 1;
    bubtherm = 1;
    medtherm = 1;
    masstrans = 1;
    R0 = 200e-6;
    Req = R0/10;
    mu = 1E-3;
    G = 1E3;
    alphax = 0.5;
    lambda1 = 1E-3;
    lambda2 = 0;
    radial = 3;
    stress = 2;
    maxNumCompThreads(16);
    
    Nresolved = 1024;
    
    % exact solution
    varin = {'progdisplay',1,...
        'radial',radial,...
        'bubtherm',bubtherm,...
        'tvector',tvector,...
        'vapor',vapor,...
        'medtherm',medtherm,...
        'masstrans',masstrans,...
        'collapse',collapse,...
        'lambda2',lambda2,...
        'Req',Req,...
        'R0',R0,...
        'mu',mu,...
        'G',G,...
        'alphax',alphax,...
        'lambda1',lambda1,...
        'stress',stress,...
        'Nt',Nresolved,...
        'Mt',Nresolved};
    
    [tvec,Rvec] = f_imr_fd(varin{:});
    save("fd_Nt_1024_Mt_1024.mat","tvec","Rvec");
